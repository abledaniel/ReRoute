(()=>{var e={};e.id=929,e.ids=[929],e.modules={440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(1658);let s=async e=>[{type:"image/x-icon",sizes:"200x200",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},682:(e,t,r)=>{Promise.resolve().then(r.bind(r,1018))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1018:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Abel\\\\Documents\\\\Code\\\\Undergraduate Final Project\\\\reroute\\\\src\\\\app\\\\directions\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Abel\\Documents\\Code\\Undergraduate Final Project\\reroute\\src\\app\\directions\\page.tsx","default")},1135:()=>{},2250:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var o=r(5239),s=r(8088),n=r(8170),i=r.n(n),l=r(893),a={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(t,a);let d={children:["",{children:["directions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1018)),"C:\\Users\\Abel\\Documents\\Code\\Undergraduate Final Project\\reroute\\src\\app\\directions\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"C:\\Users\\Abel\\Documents\\Code\\Undergraduate Final Project\\reroute\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Abel\\Documents\\Code\\Undergraduate Final Project\\reroute\\src\\app\\directions\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/directions/page",pathname:"/directions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2509:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4206:()=>{},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var o=r(7413),s=r(4797),n=r.n(s);r(1135);let i={title:"ReRoute",description:"A live OCTA Transit Website"};function l({children:e}){return(0,o.jsx)("html",{lang:"en",children:(0,o.jsx)("body",{className:`${n().className} antialiased`,children:e})})}},4457:()=>{},5568:()=>{},5665:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});let o=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{lightness:-80}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:-20}]}]},6477:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},7427:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var o=r(687),s=r(3210),n=r(4280),i=r(6189),l=r(5814),a=r.n(l);r(4457),r(5568),r(4206);var d=r(5665);let c=()=>{let e=(0,i.useSearchParams)(),[t,r]=(0,s.useState)(null),[l,c]=(0,s.useState)({lat:33.87884,lng:-117.884973}),[p,u]=(0,s.useState)(null),[m,g]=(0,s.useState)([]),[h,x]=(0,s.useState)(null),y=(0,s.useRef)(null),f=(0,s.useRef)(null),b=(0,s.useRef)(null),{isLoaded:v}=(0,n.KD)({googleMapsApiKey:"AIzaSyC9aGz6l-J4oy2c0bNSARq35HF4OgNYZBI",libraries:["places","maps"]}),j=(0,s.useCallback)(e=>{let t={lat:Number(e.coords.latitude.toFixed(9)),lng:Number(e.coords.longitude.toFixed(9))};r(t),c(t)},[]),T=(0,s.useCallback)(()=>{if(y.current&&t&&window.google&&window.google.maps&&window.google.maps.marker)try{f.current&&(f.current.map=null),f.current=new window.google.maps.marker.AdvancedMarkerElement({map:y.current,position:t,title:"Your Location",content:C()})}catch(e){console.error("Error creating advanced marker:",e)}},[t]),C=()=>{let e=document.createElement("div");return e.className="custom-marker",e.innerHTML=`
      <div style="
        background-color: #228B22;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        border: 2px solid white;
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 12px;
      ">
        You
      </div>
    `,e},P=(e,t)=>{b.current&&b.current.route({origin:e,destination:t,travelMode:google.maps.TravelMode.TRANSIT},(e,t)=>{if(t===google.maps.DirectionsStatus.OK&&e&&(u(e),y.current&&e.routes[0])){let t=new google.maps.LatLngBounds;e.routes[0].legs.forEach(e=>{t.extend(e.start_location),t.extend(e.end_location)}),y.current.fitBounds(t)}})},k=async e=>{try{let t=await fetch(`/api/routes/${e}/stops`);if(t.ok){let e=await t.json();g(e.stops)}}catch(e){console.error("Error fetching route stops:",e)}};return((0,s.useEffect)(()=>{let t=e.get("origin"),r=e.get("destination"),o=e.get("duration"),s=e.get("arrivalTime"),n=e.get("distance"),i=e.get("routeId");o&&s&&n&&x({duration:decodeURIComponent(o),arrivalTime:decodeURIComponent(s),distance:decodeURIComponent(n)}),i&&k(i),navigator.geolocation&&navigator.geolocation.getCurrentPosition(j,e=>{console.error("Error getting location:",e)},{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3}),v&&(b.current=new google.maps.DirectionsService,t&&r&&P(decodeURIComponent(t),decodeURIComponent(r)))},[v,e,j]),(0,s.useEffect)(()=>{if(v&&t){let e=setTimeout(T,500);return()=>clearTimeout(e)}},[v,t,T]),(0,s.useEffect)(()=>{if(t&&y.current){let e=y.current.getCenter();e&&c({lat:e.lat(),lng:e.lng()})}},[t]),v)?(0,o.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(to right, #1e3c72, #2a5298)",padding:"16px",color:"white"},children:(0,o.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"24px"},children:[(0,o.jsx)(a(),{href:"/",style:{textDecoration:"none",color:"white"},children:(0,o.jsx)("h1",{style:{fontSize:"32px",fontWeight:"bold"},children:"REROUTE"})}),(0,o.jsx)("div",{style:{marginLeft:"auto"},children:(0,o.jsx)(a(),{href:"/faq",style:{textDecoration:"none"},children:(0,o.jsx)("button",{style:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:"FAQ"})})})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"24px",height:"calc(100vh - 100px)"},children:[(0,o.jsxs)("div",{style:{flex:"1.5",position:"relative"},children:[(0,o.jsx)("div",{style:{position:"absolute",top:"0",left:"0",right:"0",zIndex:"1",padding:"16px"},children:(0,o.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.5)",padding:"16px",borderRadius:"10px",marginBottom:"16px"},children:[(0,o.jsx)("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"Route Information"}),h&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:["Duration: ",h.duration]}),(0,o.jsxs)("p",{children:["Distance: ",h.distance]}),(0,o.jsxs)("p",{children:["Arrives: ",h.arrivalTime]})]})]})}),(0,o.jsxs)(n.u6,{zoom:14,center:l,mapContainerStyle:{height:"100%",width:"100%"},options:{fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,styles:d.b},onLoad:e=>{y.current=e},children:[t&&(0,o.jsx)(n.pH,{position:t,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#c5acff",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2}}),p&&(0,o.jsx)(n.C,{directions:p,options:{suppressMarkers:!1,polylineOptions:{strokeColor:"#2563eb",strokeWeight:4,strokeOpacity:.8}}}),m.map(e=>(0,o.jsx)(n.pH,{position:{lat:e.lat,lng:e.lng},icon:{path:google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#c5acff",fillOpacity:.8,strokeColor:"#FFFFFF",strokeWeight:2}},e.stop_id))]})]}),(0,o.jsx)("div",{style:{flex:"1",display:"flex",flexDirection:"column",gap:"24px",overflowY:"auto"},children:p&&p.routes[0]&&(0,o.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.5)",padding:"24px",borderRadius:"10px"},children:[(0,o.jsx)("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"Directions"}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:p.routes[0].legs[0].steps.map((e,t)=>(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"16px",borderRadius:"8px"},children:[(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.instructions}}),e.transit&&(0,o.jsxs)("div",{style:{marginTop:"8px",color:"#93c5fd"},children:[(0,o.jsxs)("p",{children:["Route: ",e.transit.line.short_name||e.transit.line.name]}),(0,o.jsxs)("p",{children:["Departure: ",e.transit.departure_time.text]}),(0,o.jsxs)("p",{children:["Arrival: ",e.transit.arrival_time.text]})]})]},t))})]})})]})]})}):(0,o.jsx)("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to right, #1e3c72, #2a5298)",color:"white"},children:"Loading Maps..."})},p=()=>(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to right, #1e3c72, #2a5298)",color:"white"},children:"Loading..."}),children:(0,o.jsx)(c,{})})},7877:()=>{},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9138:(e,t,r)=>{Promise.resolve().then(r.bind(r,7427))},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9733:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,685,567,396],()=>r(2250));module.exports=o})();