{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abel/Documents/Code/Undergraduate%20Final%20Project/reroute/src/app/map/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useJsApiLoader, GoogleMap, Marker } from \"@react-google-maps/api\";\n\nconst Page = () => {\n    const [userPosition, setUserPosition] = useState<{ lat: number; lng: number } | null>(null);\n    const defaultPosition = { lat: 33.878840, lng: -117.884973 }; // Default map center\n    const [busStops, setBusStops] = useState<{ stop_id: string; stop_name: string; lat: number; lng: number }[]>([]);\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [routes, setRoutes] = useState<{ route_id: string; route_name: string; route_url: string }[]>([]);\n    const [locationError, setLocationError] = useState<string | null>(null);\n    const mapRef = useRef<google.maps.Map | null>(null);\n    const markerRef = useRef<any>(null);\n    const [mapCenter, setMapCenter] = useState(defaultPosition);\n\n    const { isLoaded } = useJsApiLoader({\n        googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!,\n        libraries: [\"places\", \"maps\"], \n    });\n\n    // Separate function to handle location updates\n    const handleLocationUpdate = (position: GeolocationPosition) => {\n        const newPosition = {\n            lat: Number(position.coords.latitude.toFixed(9)),\n            lng: Number(position.coords.longitude.toFixed(9)),\n        };\n        setUserPosition(newPosition);\n        setMapCenter(newPosition);\n        fetchRoutes(newPosition.lat, newPosition.lng, setRoutes);\n        setLocationError(null);\n    };\n\n    // Function to handle map center changes\n    const handleMapCenterChanged = () => {\n        if (mapRef.current) {\n            const center = mapRef.current.getCenter();\n            if (center) {\n                const newCenter = {\n                    lat: Number(center.lat().toFixed(9)),\n                    lng: Number(center.lng().toFixed(9))\n                };\n                setMapCenter(newCenter);\n                fetchRoutes(newCenter.lat, newCenter.lng, setRoutes);\n            }\n        }\n    };\n\n    // Function to update the advanced marker\n    const updateUserMarker = () => {\n        if (!mapRef.current || !userPosition || !window.google || !window.google.maps || !window.google.maps.marker) {\n            console.log(\"Cannot create marker - missing dependencies:\", {\n                map: !!mapRef.current,\n                userPosition: !!userPosition,\n                google: !!window.google,\n                maps: !!(window.google && window.google.maps),\n                marker: !!(window.google && window.google.maps && window.google.maps.marker)\n            });\n            return;\n        }\n        \n        try {\n            // Remove existing marker if it exists\n            if (markerRef.current) {\n                markerRef.current.map = null;\n            }\n            \n            // Create a new advanced marker\n            const markerView = new window.google.maps.marker.AdvancedMarkerElement({\n                map: mapRef.current,\n                position: userPosition,\n                title: \"Your Location\",\n                content: createMarkerContent(),\n            });\n            \n            markerRef.current = markerView;\n            console.log(\"Advanced marker created successfully\");\n        } catch (error) {\n            console.error(\"Error creating advanced marker:\", error);\n        }\n    };\n\n    // Function to create custom marker content\n    const createMarkerContent = () => {\n        const div = document.createElement('div');\n        div.className = 'custom-marker';\n        div.innerHTML = `\n            <div style=\"\n                background-color: #4285F4;\n                border-radius: 50%;\n                width: 20px;\n                height: 20px;\n                border: 2px solid white;\n                box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: white;\n                font-weight: bold;\n                font-size: 12px;\n            \">\n                You\n            </div>\n        `;\n        return div;\n    };\n\n    // Update marker when user position changes\n    useEffect(() => {\n        if (isLoaded && userPosition) {\n            // Add a small delay to ensure the marker library is fully loaded\n            const timer = setTimeout(() => {\n                updateUserMarker();\n            }, 500);\n            \n            return () => clearTimeout(timer);\n        }\n    }, [isLoaded, userPosition]);\n\n    // Fetch routes when map center changes\n    useEffect(() => {\n        if (isLoaded && mapCenter) {\n            fetchRoutes(mapCenter.lat, mapCenter.lng, setRoutes);\n        }\n    }, [isLoaded, mapCenter]);\n\n    useEffect(() => {\n        // Immediately fetch routes with default position\n        fetchRoutes(defaultPosition.lat, defaultPosition.lng, setRoutes);\n\n        const fetchStopsData = async () => {\n            try {\n                const response = await fetch(\"/stops.csv\");\n                const stopsData = await response.text();\n\n                const stops: { stop_id: string; stop_name: string; lat: number; lng: number }[] = [];\n                const rows = stopsData.split(\"\\n\");\n\n                rows.slice(1).forEach((row) => {\n                    const columns = row.split(\",\");\n                    if (columns.length === 4) {\n                        const stop_id = columns[0].trim();\n                        const stop_name = columns[1].trim();\n                        const lat = parseFloat(columns[2].trim());\n                        const lng = parseFloat(columns[3].trim());\n                        if (!isNaN(lat) && !isNaN(lng)) {\n                            stops.push({ stop_id, stop_name, lat, lng });\n                        }\n                    }\n                });\n\n                setBusStops(stops);\n            } catch (error) {\n                console.error(\"Error fetching stop data:\", error);\n            }\n        };\n\n        fetchStopsData();\n\n        // Get initial position\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n                handleLocationUpdate,\n                (error) => {\n                    setLocationError(`Error getting location: ${error.message}`);\n                    console.error(\"Error getting initial location:\", error);\n                },\n                {\n                    enableHighAccuracy: true,\n                    maximumAge: 30000,\n                    timeout: 27000,\n                }\n            );\n\n            // Set up continuous watching with more relaxed parameters\n            const watchId = navigator.geolocation.watchPosition(\n                handleLocationUpdate,\n                (error) => {\n                    setLocationError(`Error tracking location: ${error.message}`);\n                    console.error(\"Error watching location:\", error);\n                },\n                {\n                    enableHighAccuracy: true,\n                    maximumAge: 60000, // Accept positions up to 1 minute old\n                    timeout: 30000, // Wait up to 30 seconds for a position\n                }\n            );\n\n            return () => {\n                navigator.geolocation.clearWatch(watchId);\n                // Clean up marker when component unmounts\n                if (markerRef.current) {\n                    markerRef.current.map = null;\n                }\n            };\n        } else {\n            setLocationError(\"Geolocation is not supported by your browser\");\n        }\n    }, []);\n\n    const fetchRoutes = async (lat: number, lng: number, setRoutes: (routes: any[]) => void) => {\n        try {\n            // Format coordinates to 9 decimal places\n            const formattedLat = Number(lat.toFixed(9));\n            const formattedLng = Number(lng.toFixed(9));\n\n            // Log the request for debugging\n            console.log(`Fetching routes for lat: ${formattedLat}, lon: ${formattedLng}`);\n            \n            // Use our new API route\n            const apiUrl = `/api/routes?lat=${formattedLat}&lon=${formattedLng}`;\n            console.log(\"API URL:\", apiUrl);\n            \n            const response = await fetch(apiUrl);\n            \n            // Log the response status\n            console.log(`API response status: ${response.status}`);\n            \n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(`API error: ${response.status} - ${errorText}`);\n                // Don't use fallback data, just set empty routes\n                setRoutes([]);\n                return;\n            }\n\n            const data = await response.json();\n            \n            // Print the entire JSON response\n            console.log(\"FULL JSON RESPONSE:\", JSON.stringify(data, null, 2));\n            \n            // Also log it in a more readable format\n            console.log(\"Routes data:\", data);\n\n            if (data.routes && Array.isArray(data.routes) && data.routes.length > 0) {\n                console.log(`Found ${data.routes.length} routes`);\n                \n                const processedRoutes = data.routes.map((route: any) => {\n                    const processedRoute = {\n                        route_id: route.route_id || route.route_short_name || '',\n                        route_name: route.route_desc || route.route_long_name || '',\n                        route_url: route.route_url || '#',\n                    };\n                    console.log(\"Processed route:\", processedRoute);\n                    return processedRoute;\n                });\n                \n                console.log(\"Setting routes:\", processedRoutes);\n                setRoutes(processedRoutes);\n            } else {\n                console.warn(\"No routes found in the response\");\n                // Don't use fallback data, just set empty routes\n                setRoutes([]);\n            }\n        } catch (error) {\n            console.error(\"Error fetching routes:\", error);\n            // Don't use fallback data, just set empty routes\n            setRoutes([]);\n        }\n    };\n\n    if (!isLoaded) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div style={{ height: \"100vh\", width: \"100%\", background: \"linear-gradient(to bottom right, #1e3c72, #2a5298)\", color: \"#fff\", display: \"flex\", flexDirection: \"column\" }}>\n  {/* Top Header */}\n  <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: \"20px\" }}>\n    <h1 style={{ fontSize: \"48px\", fontWeight: \"bold\" }}>REROUTE</h1>\n    <button style={{ fontSize: \"18px\", background: \"none\", border: \"none\", color: \"#fff\", cursor: \"pointer\" }}>FAQ</button>\n  </div>\n\n  {/* Main Content */}\n  <div style={{ display: \"flex\", flex: 1, padding: \"20px\" }}>\n    {/* Left Side: Search and Map */}\n    <div style={{ flex: 1, marginRight: \"20px\", display: \"flex\", flexDirection: \"column\" }}>\n      {/* Search Bar */}\n      <input \n        type=\"text\" \n        placeholder=\"Location Search\" \n        value={searchQuery} \n        onChange={(e) => setSearchQuery(e.target.value)} \n        style={{\n          padding: \"12px\",\n          borderRadius: \"8px\",\n          border: \"none\",\n          fontSize: \"16px\",\n          marginBottom: \"20px\",\n          backgroundColor: \"#eee\",\n          color: \"#333\"\n        }} \n      />\n\n      {/* Map */}\n      <div style={{ flex: 1, borderRadius: \"15px\", overflow: \"hidden\" }}>\n        <GoogleMap\n          zoom={14}\n          center={userPosition || defaultPosition}\n          mapContainerStyle={{ height: \"100%\", width: \"100%\" }}\n          options={{\n            fullscreenControl: false,\n            streetViewControl: false,\n            mapTypeControl: false,\n            zoomControl: true,\n            gestureHandling: \"greedy\",\n            styles: [\n              {\n                \"elementType\": \"geometry\",\n                \"stylers\": [{ \"color\": \"#242f3e\" }]\n              },\n              {\n                \"elementType\": \"labels.text.stroke\",\n                \"stylers\": [{ \"lightness\": -80 }]\n              },\n              {\n                \"featureType\": \"administrative.locality\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#746855\" }]\n              },\n              {\n                \"featureType\": \"poi\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#d59563\" }]\n              },\n              {\n                \"featureType\": \"poi.park\",\n                \"elementType\": \"geometry\",\n                \"stylers\": [{ \"color\": \"#263c3f\" }]\n              },\n              {\n                \"featureType\": \"poi.park\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#6b9a76\" }]\n              },\n              {\n                \"featureType\": \"road\",\n                \"elementType\": \"geometry\",\n                \"stylers\": [{ \"color\": \"#38414e\" }]\n              },\n              {\n                \"featureType\": \"road\",\n                \"elementType\": \"geometry.stroke\",\n                \"stylers\": [{ \"color\": \"#212a37\" }]\n              },\n              {\n                \"featureType\": \"road\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#9ca5b3\" }]\n              },\n              {\n                \"featureType\": \"road.highway\",\n                \"elementType\": \"geometry\",\n                \"stylers\": [{ \"color\": \"#746855\" }]\n              },\n              {\n                \"featureType\": \"road.highway\",\n                \"elementType\": \"geometry.stroke\",\n                \"stylers\": [{ \"color\": \"#1f2835\" }]\n              },\n              {\n                \"featureType\": \"road.highway\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#f3d19c\" }]\n              },\n              {\n                \"featureType\": \"transit\",\n                \"elementType\": \"geometry\",\n                \"stylers\": [{ \"color\": \"#2f3948\" }]\n              },\n              {\n                \"featureType\": \"transit.station\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#d59563\" }]\n              },\n              {\n                \"featureType\": \"water\",\n                \"elementType\": \"geometry\",\n                \"stylers\": [{ \"color\": \"#17263c\" }]\n              },\n              {\n                \"featureType\": \"water\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [{ \"color\": \"#515c6d\" }]\n              },\n              {\n                \"featureType\": \"water\",\n                \"elementType\": \"labels.text.stroke\",\n                \"stylers\": [{ \"lightness\": -20 }]\n              }\n            ],\n          }}\n          onLoad={(map) => {\n            mapRef.current = map;\n            if (userPosition) {\n              // Add a small delay to ensure the marker library is fully loaded\n              setTimeout(() => {\n                updateUserMarker();\n              }, 500);\n            }\n          }}\n          onDragEnd={handleMapCenterChanged}\n          onZoomChanged={handleMapCenterChanged}\n        >\n          {/* Advanced markers are now managed via the updateUserMarker function */}\n        </GoogleMap>\n      </div>\n    </div>\n\n    {/* Right Side: Routes List */}\n    <div style={{ flex: 1, background: \"#1e3c72\", borderRadius: \"15px\", padding: \"20px\", display: \"flex\", flexDirection: \"column\" }}>\n      <h2 style={{ fontSize: \"24px\", marginBottom: \"20px\" }}>COMMON TRANSIT ({routes.length} routes)</h2>\n      <div style={{ flex: 1, overflowY: \"auto\" }}>\n        {routes.length === 0 ? (\n          <p>No nearby routes found. {locationError ? `Error: ${locationError}` : ''}</p>\n        ) : (\n          routes.map((route) => (\n            <div key={route.route_id} style={{ background: \"linear-gradient(to right, #1e3c72, #2a5298)\", padding: \"15px\", borderRadius: \"10px\", marginBottom: \"10px\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n              <div>\n                <div style={{ fontSize: \"18px\", fontWeight: \"bold\" }}>OCTA BUS {route.route_id}</div>\n                <div style={{ fontSize: \"14px\", marginTop: \"5px\" }}>{route.route_name}</div>\n                <div style={{ fontSize: \"12px\", marginTop: \"5px\" }}>10 Minutes Arrival Prediction: 13 Minutes</div>\n              </div>\n              <div style={{ fontSize: \"24px\" }}>âž”</div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  </div>\n</div>\n    );\n};\n\nexport default Page;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}