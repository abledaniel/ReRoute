{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abel/Documents/Code/Undergraduate%20Final%20Project/reroute/src/app/directions/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useJsApiLoader, GoogleMap, Marker, DirectionsRenderer } from \"@react-google-maps/api\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport Link from \"next/link\";\nimport '@/styles/base.css';\nimport '@/styles/directions.css';\n\n// Map styles extracted to a constant\nconst mapStyles = [\n  { \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#242f3e\" }] },\n  { \"elementType\": \"labels.text.stroke\", \"stylers\": [{ \"lightness\": -80 }] },\n  { \"featureType\": \"administrative.locality\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#746855\" }] },\n  { \"featureType\": \"poi\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#d59563\" }] },\n  { \"featureType\": \"poi.park\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#263c3f\" }] },\n  { \"featureType\": \"poi.park\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#6b9a76\" }] },\n  { \"featureType\": \"road\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#38414e\" }] },\n  { \"featureType\": \"road\", \"elementType\": \"geometry.stroke\", \"stylers\": [{ \"color\": \"#212a37\" }] },\n  { \"featureType\": \"road\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#9ca5b3\" }] },\n  { \"featureType\": \"road.highway\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#746855\" }] },\n  { \"featureType\": \"road.highway\", \"elementType\": \"geometry.stroke\", \"stylers\": [{ \"color\": \"#1f2835\" }] },\n  { \"featureType\": \"road.highway\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#f3d19c\" }] },\n  { \"featureType\": \"transit\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#2f3948\" }] },\n  { \"featureType\": \"transit.station\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#d59563\" }] },\n  { \"featureType\": \"water\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#17263c\" }] },\n  { \"featureType\": \"water\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"color\": \"#515c6d\" }] },\n  { \"featureType\": \"water\", \"elementType\": \"labels.text.stroke\", \"stylers\": [{ \"lightness\": -20 }] }\n];\n\nconst DirectionsPage = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const defaultPosition = { lat: 33.878840, lng: -117.884973 };\n  \n  // State variables\n  const [userPosition, setUserPosition] = useState<{ lat: number; lng: number } | null>(null);\n  const [busStops, setBusStops] = useState<{ stop_id: string; stop_name: string; lat: number; lng: number }[]>([]);\n  const [origin, setOrigin] = useState(\"\");\n  const [destination, setDestination] = useState(\"\");\n  const [routeDetails, setRouteDetails] = useState<{\n    duration: string;\n    arrivalTime: string;\n    distance: string;\n  } | null>(null);\n  const [locationError, setLocationError] = useState<string | null>(null);\n  const [mapCenter, setMapCenter] = useState(defaultPosition);\n  const [directions, setDirections] = useState<google.maps.DirectionsResult | null>(null);\n  const [nearestStop, setNearestStop] = useState<{ stop_id: string; stop_name: string; lat: number; lng: number; distance: number } | null>(null);\n  const [routeStops, setRouteStops] = useState<{ stop_id: string; stop_name: string; lat: number; lng: number }[]>([]);\n  const [routeId, setRouteId] = useState<string | null>(null);\n  \n  // Refs\n  const mapRef = useRef<google.maps.Map | null>(null);\n  const markerRef = useRef<any>(null);\n  const directionsService = useRef<google.maps.DirectionsService | null>(null);\n\n  // Load Google Maps API\n  const { isLoaded } = useJsApiLoader({\n    googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!,\n    libraries: [\"places\", \"maps\"],\n  });\n\n  // Handle location updates\n  const handleLocationUpdate = (position: GeolocationPosition) => {\n    const newPosition = {\n      lat: Number(position.coords.latitude.toFixed(9)),\n      lng: Number(position.coords.longitude.toFixed(9)),\n    };\n    setUserPosition(newPosition);\n    setMapCenter(newPosition);\n    setLocationError(null);\n  };\n\n  // Create user marker\n  const createUserMarker = () => {\n    if (!mapRef.current || !userPosition || !window.google || !window.google.maps || !window.google.maps.marker) return;\n    \n    try {\n      if (markerRef.current) markerRef.current.map = null;\n      \n      const markerView = new window.google.maps.marker.AdvancedMarkerElement({\n        map: mapRef.current,\n        position: userPosition,\n        title: \"Your Location\",\n        content: createMarkerContent(),\n      });\n      \n      markerRef.current = markerView;\n    } catch (error) {\n      console.error(\"Error creating advanced marker:\", error);\n    }\n  };\n\n  // Create marker content\n  const createMarkerContent = () => {\n    const div = document.createElement('div');\n    div.className = 'custom-marker';\n    div.innerHTML = `\n      <div style=\"\n        background-color: #228B22;\n        border-radius: 50%;\n        width: 20px;\n        height: 20px;\n        border: 2px solid white;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n        font-size: 12px;\n      \">\n        You\n      </div>\n    `;\n    return div;\n  };\n\n  // Calculate route\n  const calculateRoute = (originAddress: string, destinationAddress: string) => {\n    if (!directionsService.current) return;\n\n    directionsService.current.route(\n      {\n        origin: originAddress,\n        destination: destinationAddress,\n        travelMode: google.maps.TravelMode.TRANSIT,\n      },\n      (result, status) => {\n        if (status === google.maps.DirectionsStatus.OK && result) {\n          setDirections(result);\n          \n          if (mapRef.current && result.routes[0]) {\n            const bounds = new google.maps.LatLngBounds();\n            result.routes[0].legs.forEach(leg => {\n              bounds.extend(leg.start_location);\n              bounds.extend(leg.end_location);\n            });\n            mapRef.current.fitBounds(bounds);\n          }\n        }\n      }\n    );\n  };\n\n  // Fetch route stops\n  const fetchRouteStops = async (routeIdParam: string) => {\n    try {\n      const response = await fetch(`/api/routes/${routeIdParam}/stops`);\n      if (response.ok) {\n        const data = await response.json();\n        setRouteStops(data.stops);\n      }\n    } catch (error) {\n      console.error(\"Error fetching route stops:\", error);\n    }\n  };\n\n  // Initialize component\n  useEffect(() => {\n    // Get parameters from URL\n    const originParam = searchParams.get('origin');\n    const destinationParam = searchParams.get('destination');\n    const durationParam = searchParams.get('duration');\n    const arrivalTimeParam = searchParams.get('arrivalTime');\n    const distanceParam = searchParams.get('distance');\n    const routeIdParam = searchParams.get('routeId');\n    \n    if (originParam) setOrigin(decodeURIComponent(originParam));\n    if (destinationParam) setDestination(decodeURIComponent(destinationParam));\n    if (routeIdParam) setRouteId(decodeURIComponent(routeIdParam));\n    \n    if (durationParam && arrivalTimeParam && distanceParam) {\n      setRouteDetails({\n        duration: decodeURIComponent(durationParam),\n        arrivalTime: decodeURIComponent(arrivalTimeParam),\n        distance: decodeURIComponent(distanceParam)\n      });\n    }\n\n    // Fetch route stops if routeId is available\n    if (routeIdParam) fetchRouteStops(routeIdParam);\n\n    // Get user's location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        handleLocationUpdate,\n        (error) => {\n          setLocationError(`Error getting location: ${error.message}`);\n          console.error(\"Error getting location:\", error);\n        },\n        { enableHighAccuracy: true, maximumAge: 30000, timeout: 27000 }\n      );\n    } else {\n      setLocationError(\"Geolocation is not supported by your browser\");\n    }\n\n    // Initialize directions service\n    if (isLoaded) {\n      directionsService.current = new google.maps.DirectionsService();\n      \n      // Calculate route if origin and destination are available\n      if (originParam && destinationParam) {\n        calculateRoute(decodeURIComponent(originParam), decodeURIComponent(destinationParam));\n      }\n    }\n  }, [isLoaded, searchParams]);\n\n  // Update user marker when position changes\n  useEffect(() => {\n    if (isLoaded && userPosition) {\n      const timer = setTimeout(createUserMarker, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [isLoaded, userPosition]);\n\n  // Update map center when user position changes\n  useEffect(() => {\n    if (userPosition && mapRef.current) {\n      mapRef.current.setCenter(userPosition);\n      mapRef.current.setZoom(16);\n    }\n  }, [userPosition]);\n\n  if (!isLoaded) {\n    return (\n      <div style={{ minHeight: \"100vh\", background: \"linear-gradient(to right, #1e3c72, #2a5298)\", color: \"white\", padding: \"32px\" }}>\n        <div style={{ maxWidth: \"1400px\", margin: \"0 auto\" }}>\n          <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"32px\" }}>\n            <h1 style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>Loading map...</h1>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ minHeight: \"100vh\", background: \"linear-gradient(to right, #1e3c72, #2a5298)\", color: \"white\", padding: \"32px\" }}>\n      <div style={{ maxWidth: \"1400px\", margin: \"0 auto\" }}>\n        <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"32px\" }}>\n          <Link href=\"/map\" style={{ marginRight: \"16px\", color: \"#93c5fd\", textDecoration: \"none\" }}>← Back to Map</Link>\n          <h1 style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>DIRECTIONS</h1>\n        </div>\n\n        {/* Side-by-side layout */}\n        <div style={{ display: \"flex\", gap: \"32px\" }}>\n          {/* Map Section - Left Side */}\n          <div style={{ flex: \"2\", height: \"calc(100vh - 150px)\", borderRadius: \"10px\", overflow: \"hidden\", boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\", display: \"flex\", flexDirection: \"column\" }}>\n            {/* Route Information */}\n            {routeDetails && (\n              <div style={{ padding: \"16px\", background: \"rgba(255, 255, 255, 0.1)\", borderRadius: \"8px\", margin: \"16px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                <div>\n                  <div style={{ fontSize: \"16px\", fontWeight: \"bold\" }}>From: {origin}</div>\n                  <div style={{ fontSize: \"16px\", fontWeight: \"bold\" }}>To: {destination}</div>\n                </div>\n                <div style={{ textAlign: \"right\" }}>\n                  <div>Estimated Time: {routeDetails.duration}</div>\n                  <div>Estimated Arrival: {routeDetails.arrivalTime}</div>\n                  <div>Distance: {routeDetails.distance}</div>\n                </div>\n              </div>\n            )}\n\n            {/* Nearest Stop Information */}\n            {nearestStop && (\n              <div style={{ padding: \"16px\", background: \"rgba(255, 255, 255, 0.1)\", borderRadius: \"8px\", margin: \"0 16px 16px 16px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                <div>\n                  <div style={{ fontSize: \"16px\", fontWeight: \"bold\" }}>Nearest Bus Stop</div>\n                  <div>{nearestStop.stop_name}</div>\n                </div>\n                <div style={{ textAlign: \"right\" }}>\n                  <div>Distance: {(nearestStop.distance / 1000).toFixed(2)} km</div>\n                  <div>Walking Time: {Math.round(nearestStop.distance / 80)} min</div>\n                </div>\n              </div>\n            )}\n\n            {/* Map */}\n            <div style={{ flex: 1, borderRadius: \"10px\", overflow: \"hidden\" }}>\n              <GoogleMap\n                zoom={14}\n                center={mapCenter}\n                mapContainerStyle={{ height: \"100%\", width: \"100%\" }}\n                options={{\n                  fullscreenControl: false,\n                  streetViewControl: false,\n                  mapTypeControl: false,\n                  zoomControl: true,\n                  gestureHandling: \"greedy\",\n                  styles: mapStyles,\n                }}\n                onLoad={(map) => {\n                  mapRef.current = map;\n                  if (userPosition) setTimeout(createUserMarker, 500);\n                }}\n              >\n                {/* Display transit route */}\n                {directions && (\n                  <DirectionsRenderer\n                    directions={directions}\n                    options={{\n                      suppressMarkers: false,\n                      polylineOptions: { strokeColor: \"#2563eb\", strokeWeight: 5 },\n                    }}\n                  />\n                )}\n                \n                {/* Display bus stops as grey circles */}\n                {routeStops.map((stop) => (\n                  <Marker\n                    key={stop.stop_id}\n                    position={{ lat: stop.lat, lng: stop.lng }}\n                    title={stop.stop_name}\n                    icon={{\n                      path: google.maps.SymbolPath.CIRCLE,\n                      scale: 8,\n                      fillColor: \"#808080\",\n                      fillOpacity: 0.8,\n                      strokeColor: \"#FFFFFF\",\n                      strokeWeight: 2,\n                    }}\n                  />\n                ))}\n                \n                {/* Highlight nearest stop if available */}\n                {nearestStop && (\n                  <Marker\n                    position={{ lat: nearestStop.lat, lng: nearestStop.lng }}\n                    title={`Nearest Stop: ${nearestStop.stop_name}`}\n                    icon={{\n                      path: google.maps.SymbolPath.CIRCLE,\n                      scale: 10,\n                      fillColor: \"#4285F4\",\n                      fillOpacity: 0.8,\n                      strokeColor: \"#FFFFFF\",\n                      strokeWeight: 2,\n                    }}\n                  />\n                )}\n              </GoogleMap>\n            </div>\n          </div>\n\n          {/* Right Side: Directions Steps */}\n          <div style={{ flex: \"1\", display: \"flex\", flexDirection: \"column\", gap: \"32px\", overflowY: \"auto\", maxHeight: \"calc(100vh - 150px)\" }}>\n            <div style={{ background: \"linear-gradient(to right, #1e3c72, #2a5298)\", padding: \"24px\", borderRadius: \"10px\", boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\" }}>\n              <h2 style={{ fontSize: \"20px\", fontWeight: \"bold\", marginBottom: \"20px\" }}>DIRECTIONS</h2>\n              <div style={{ flex: 1, overflowY: \"auto\" }}>\n                {directions && directions.routes[0] && directions.routes[0].legs[0] ? (\n                  <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n                    {directions.routes[0].legs[0].steps.map((step, index) => (\n                      <div key={index} style={{ background: \"rgba(255, 255, 255, 0.1)\", padding: \"16px\", borderRadius: \"10px\", display: \"flex\", alignItems: \"flex-start\", gap: \"16px\" }}>\n                        <div style={{ background: \"#2563eb\", color: \"white\", width: \"24px\", height: \"24px\", borderRadius: \"50%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", flexShrink: 0 }}>\n                          {index + 1}\n                        </div>\n                        <div>\n                          <div dangerouslySetInnerHTML={{ __html: step.instructions }} />\n                          <div style={{ marginTop: \"8px\", color: \"#93c5fd\" }}>\n                            {step.distance?.text} - {step.duration?.text}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p style={{ color: \"#93c5fd\" }}>No directions available.</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DirectionsPage; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 921, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}