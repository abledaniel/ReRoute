{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abel/Documents/Code/Undergraduate%20Final%20Project/reroute/src/app/live/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\n\n// Define the vehicle data interface\ninterface Vehicle {\n  vehicle_id: string;\n  route_id: string;\n  current_status: string;\n  latitude: number;\n  longitude: number;\n  speed: number;\n  bearing: number;\n  timestamp: string;\n  [key: string]: any; // Allow for additional properties\n}\n\nexport default function VehicleData() {\n  const [vehicleData, setVehicleData] = useState<Vehicle[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [routeId, setRouteId] = useState('26'); // Default route ID\n\n  const fetchVehicleData = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Fetch from the Flask API directly\n      const response = await fetch(`http://127.0.0.1:5000/api/vehicle-positions/${routeId}`);\n      \n      if (!response.ok) {\n        throw new Error(`Failed to fetch data: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      setVehicleData(data.vehicles || []);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Unknown error occurred';\n      setError(errorMessage);\n      console.error('Error fetching vehicle data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch data on component mount\n  useEffect(() => {\n    fetchVehicleData();\n    \n    // Set up polling every 30 seconds\n    const intervalId = setInterval(fetchVehicleData, 30000);\n    \n    // Clean up interval on component unmount\n    return () => clearInterval(intervalId);\n  }, [routeId]);\n\n  return (\n    <div className=\"p-6 max-w-6xl mx-auto\">\n      <h2 className=\"text-2xl font-bold mb-4\">OCTA Vehicle Positions</h2>\n      \n      <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium mb-1\">Route ID:</label>\n        <div className=\"flex\">\n          <input\n            type=\"text\"\n            value={routeId}\n            onChange={(e) => setRouteId(e.target.value)}\n            className=\"border rounded px-3 py-2 mr-2 w-32\"\n            placeholder=\"Enter route ID\"\n          />\n          <button \n            onClick={fetchVehicleData}\n            disabled={loading}\n            className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\"\n          >\n            {loading ? 'Loading...' : 'Refresh Data'}\n          </button>\n        </div>\n      </div>\n      \n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n          <p>Error: {error}</p>\n        </div>\n      )}\n      \n      {vehicleData.length > 0 ? (\n        <div>\n          <h3 className=\"text-xl font-semibold mb-2\">Vehicles ({vehicleData.length})</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {vehicleData.map((vehicle, index) => (\n              <div key={index} className=\"border rounded p-4 bg-white shadow\">\n                <h4 className=\"font-bold mb-2\">Vehicle ID: {vehicle.vehicle_id || 'N/A'}</h4>\n                <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                  <div>\n                    <span className=\"font-medium\">Route:</span> {vehicle.route_id || 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Status:</span> {vehicle.current_status || 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Latitude:</span> {vehicle.latitude || 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Longitude:</span> {vehicle.longitude || 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Speed:</span> {vehicle.speed ? `${vehicle.speed} mph` : 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Bearing:</span> {vehicle.bearing ? `${vehicle.bearing}Â°` : 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Updated:</span> {vehicle.timestamp || 'N/A'}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className=\"text-center py-8\">\n          {loading ? (\n            <p>Loading vehicle data...</p>\n          ) : (\n            <p>No vehicle data available. Try refreshing or checking a different route.</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abel/Documents/Code/Undergraduate%20Final%20Project/reroute/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abel/Documents/Code/Undergraduate%20Final%20Project/reroute/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abel/Documents/Code/Undergraduate%20Final%20Project/reroute/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}